<h1>Lista de Miembros</h1>

<!-- Mensajes de Error y Éxito -->
{{#if error}}
    <div style="color: red; margin-bottom: 10px;">
        {{error}}
    </div>
{{/if}}

{{#if success}}
    <div style="color: green; margin-bottom: 10px;">
        {{success}}
    </div>
{{/if}}



<!-- Formulario para Agregar Miembro -->
<form action="/miembros/crear" method="POST">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" placeholder="Nombre completo" required>

    <label for="correo">Correo:</label>
    <input type="email" id="correo" name="correo" placeholder="Correo electrónico" required>

    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
    <input type="date" id="fechaNacimiento" name="fechaNacimiento" required>

    <button type="submit">Agregar Miembro</button>
</form>

<!-- Listado en formato <table> -->
<!-- Listado en formato <table> -->
<table>
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Fecha de Nacimiento</th>
            <th>Usuario Registrado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {{#each miembros}}
        <tr>
            <td>{{this.nombre}}</td>
            <td>{{this.correo}}</td>
            <td>{{formatDate this.fechaNacimiento}}</td>
            <td>
                {{#if this.userId}}
                    Registrado como {{this.userId.nombre}}
                {{else}}
                    No registrado
                {{/if}}
            </td>
            <td>
                <a href="/miembros/editar/{{this._id}}">Editar</a>
                <form action="/miembros/eliminar/{{this._id}}" method="POST" style="display:inline;">
                    <button type="submit">Eliminar</button>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>


